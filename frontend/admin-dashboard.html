<!DOCTYPE html>
<html>
	<head>
		<title>Admin Dashboard - Marvel Personality Game</title>
		<link rel="stylesheet" href="admin-style.css" />
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	</head>
	<body>
		<div id="adminDashboard">
			<!-- Header -->
			<header id="dashboardHeader">
				<h1>Admin Dashboard</h1>
				<div id="headerControls">
					<button id="refreshBtn">Refresh Data</button>
					<button id="logoutBtn">Logout</button>
				</div>
			</header>

			<!-- Navigation -->
			<nav id="dashboardNav">
				<button class="nav-btn active" data-section="overview">Overview</button>
				<button class="nav-btn" data-section="users">Users</button>
				<button class="nav-btn" data-section="analytics">Analytics</button>
				<button class="nav-btn" data-section="behavior">Behavior</button>
				<button class="nav-btn" data-section="results">Results</button>
			</nav>

			<!-- Main Content -->
			<main id="dashboardContent">
				<!-- Overview Section -->
				<section id="overviewSection" class="dashboard-section active">
					<h2>Overview</h2>

					<!-- Key Metrics Cards -->
					<div class="metrics-grid">
						<div class="metric-card">
							<h3>Total Users</h3>
							<div class="metric-value" id="totalUsers">-</div>
						</div>
						<div class="metric-card">
							<h3>Quiz Completions</h3>
							<div class="metric-value" id="quizCompletions">-</div>
						</div>
						<div class="metric-card">
							<h3>Avg Time Spent</h3>
							<div class="metric-value" id="avgTimeSpent">-</div>
						</div>
						<div class="metric-card">
							<h3>Completion Rate</h3>
							<div class="metric-value" id="completionRate">-</div>
						</div>
					</div>

					<!-- Charts Row -->
					<div class="charts-row">
						<div class="chart-container chart-wide">
							<h3>User Growth</h3>
							<canvas id="userGrowthChart"></canvas>
						</div>
						<div class="chart-container">
							<h3>Character Distribution</h3>
							<canvas id="characterOverviewChart"></canvas>
						</div>
					</div>

					<!-- Recent Activity -->
					<div class="activity-panel">
						<h3>Recent Activity</h3>
						<div id="recentActivity" class="activity-list"></div>
					</div>
				</section>

				<!-- Users Section -->
				<section id="usersSection" class="dashboard-section">
					<h2>User Management</h2>

					<!-- Filters -->
					<div class="filters-panel">
						<div class="filter-group">
							<label>Date Range:</label>
							<input type="date" id="startDate" />
							<input type="date" id="endDate" />
						</div>
						<div class="filter-group">
							<label>Browser:</label>
							<select id="browserFilter">
								<option value="">All</option>
								<option value="Chrome">Chrome</option>
								<option value="Firefox">Firefox</option>
								<option value="Safari">Safari</option>
							</select>
						</div>
						<div class="filter-group">
							<label>Quiz Status:</label>
							<select id="quizStatusFilter">
								<option value="">All</option>
								<option value="true">Completed</option>
								<option value="false">Not Completed</option>
							</select>
						</div>
						<button id="applyFilters">Apply Filters</button>
						<button id="clearFilters">Clear</button>
					</div>

					<!-- Users Table -->
					<div class="table-container">
						<table id="usersTable">
							<thead>
								<tr>
									<th>Username</th>
									<th>Email</th>
									<th>Total Events</th>
									<th>Click Count</th>
									<th>Hover Count</th>
									<th>Actions</th>
								</tr>
							</thead>
							<tbody id="usersTableBody">
								<tr>
									<td colspan="6" class="loading">Loading users...</td>
								</tr>
							</tbody>
						</table>
						<div id="usersPagination" class="pagination"></div>
					</div>
				</section>

				<!-- Analytics Section -->
				<section id="analyticsSection" class="dashboard-section">
					<h2>Analytics & Insights</h2>

					<div class="analytics-grid">
						<!-- User Performance Analysis -->
						<div class="analytics-panel">
							<h3>User Performance Analysis</h3>
							<div class="insights-list" id="userPerformanceInsights"></div>
						</div>

						<!-- Question Difficulty Analysis -->
						<div class="analytics-panel">
							<h3>Question Difficulty</h3>
							<canvas id="questionDifficultyChart"></canvas>
							<div id="questionDifficultyTable"></div>
						</div>

						<!-- Time Analysis -->
						<div class="analytics-panel chart-wide">
							<h3>Time Analysis</h3>
							<canvas id="timeAnalysisChart"></canvas>
						</div>
					</div>
				</section>

				<!-- Behavior Section -->
				<section id="behaviorSection" class="dashboard-section">
					<h2>Behavior Analysis</h2>

					<div class="behavior-grid">
						<!-- Event Distribution -->
						<div class="behavior-panel">
							<h3>Event Distribution</h3>
							<canvas id="eventDistributionChart"></canvas>
						</div>

						<!-- Hover Analysis -->
						<div class="behavior-panel">
							<h3>Answer Hover Patterns</h3>
							<div id="hoverAnalysisTable"></div>
						</div>

						<!-- Click Speed Analysis -->
						<div class="behavior-panel chart-wide">
							<h3>Click Speed Analysis</h3>
							<canvas id="clickSpeedChart"></canvas>
						</div>
					</div>
				</section>

				<!-- Results Section -->
				<section id="resultsSection" class="dashboard-section">
					<h2>Quiz Results & Correlations</h2>

					<div class="results-grid">
						<!-- Character Results -->
						<div class="results-panel">
							<h3>Most clicked on options</h3>
							<canvas id="characterResultsChart"></canvas>
							<div id="characterResultsTable"></div>
						</div>

						<!-- Character Details -->
						<div class="results-panel">
							<h3>Character Details</h3>
							<div class="character-chart-container">
								<canvas id="characterDetailsChart"></canvas>
							</div>
						</div>

						<!-- Behavior-Character Correlation -->
						<div class="results-panel">
							<h3>Behavior vs Character Correlation</h3>
							<div id="correlationTable"></div>
						</div>
					</div>
				</section>
			</main>

			<!-- Loading Overlay -->
			<div id="loadingOverlay" class="loading-overlay">
				<div class="spinner"></div>
				<p>Loading data...</p>
			</div>

			<!-- User Detail Modal -->
			<div id="userDetailModal" class="modal">
				<div class="modal-content">
					<div class="modal-header">
						<h3>User Details</h3>
						<button class="modal-close">&times;</button>
					</div>
					<div class="modal-body" id="userDetailContent"></div>
				</div>
			</div>
		</div>

		<script src="admin-dashboard.js"></script>
	</body>
</html>
